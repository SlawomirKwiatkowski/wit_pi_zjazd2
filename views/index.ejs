<%- include("./partials/header") %>

<nav class="navbar navbar-light bg-light">
  <a class="navbar-brand" href="/">Shopping list App</a>
</nav>

<div class="container mt-5">
  <form action="/add/listElement" method="POST" class="d-flex">
    <input
      type="text"
      name="name"
      class="form-control"
      placeholder="Enter list Element"
    />
    <input
      type="submit"
      value="Add list Element"
      class="btn btn-md btn-primary mx-2"
    />
  </form>
  <ul class="list-group my-5">
    <% listElements.forEach(listElement => { %>
    <li class="list-group-item">
      <div class="form-check">
        <form
          action="/edit/listElement/<%= listElement._id %>"
          method="POST"
          class="d-flex"
        >
          <% if (listElement.checked) { %>
          <input
            class="form-check-input"
            name="checked"
            type="checkbox"
            value="<%= listElement.checked %>"
            onChange="this.form.submit()"
            checked
          />
          <% } else { %>
          <input
            class="form-check-input"
            name="checked"
            type="checkbox"
            onChange="this.form.submit()"
            value="<%= listElement.checked %>"
          />
          <% } %>

          <label class="form-check-label" for="flexCheckDefault">
            <%= listElement.name %>
          </label>
        </form>
      </div>

      <a
        href="/delete/listElement/<%= listElement._id %>"
        class="btn btn-danger btn-sm"
        >Delete</a
      >
    </li>
    <% }) %>
  </ul>
</div>

<%- include("./partials/footer") %>
